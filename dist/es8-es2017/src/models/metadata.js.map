{"version":3,"file":"metadata.js","sourceRoot":"","sources":["../../../../src/models/metadata.ts"],"names":[],"mappings":"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","sourcesContent":["// ==LICENSE-BEGIN==\n// Copyright 2017 European Digital Reading Lab. All rights reserved.\n// Licensed to the Readium Foundation under one or more contributor license agreements.\n// Use of this source code is governed by a BSD-style license\n// that can be found in the LICENSE file exposed on Github (readium) in the project repository.\n// ==LICENSE-END==\n\n// https://github.com/edcarroll/ta-json\nimport {\n    JsonConverter, JsonElementType, JsonObject, JsonProperty, OnDeserialized,\n} from \"ta-json-x\";\n\nimport { IWithAdditionalJSON, JsonMap } from \"@r2-lcp-js/serializable\";\nimport { JsonStringConverter } from \"@r2-utils-js/_utils/ta-json-string-converter\";\n\nimport { BelongsTo } from \"./metadata-belongsto\";\nimport { Contributor } from \"./metadata-contributor\";\nimport { JsonContributorConverter } from \"./metadata-contributor-json-converter\";\nimport { MediaOverlay } from \"./metadata-media-overlay\";\nimport { IStringMap } from \"./metadata-multilang\";\nimport { Properties } from \"./metadata-properties\";\nimport { Subject } from \"./metadata-subject\";\nimport { JsonSubjectConverter } from \"./metadata-subject-json-converter\";\n\n// export interface IMeta {\n//     property: string;\n//     value: string;\n//     children: IMeta[];\n// }\n\nexport enum DirectionEnum {\n    Auto = \"auto\",\n    RTL = \"rtl\",\n    LTR = \"ltr\",\n}\n\n// [\\n\\s\\S]+?^[ ]+@JsonProperty\\((\"[a-zA-Z]+\")\\)$\n// regexp replace all:\n// $1,\n// tslint:disable-next-line:max-line-length\n// export const MetadataSupportedKeys = [\"title\", \"subtitle\", \"identifier\", \"author\", \"translator\", \"editor\", \"artist\", \"illustrator\", \"letterer\", \"penciler\", \"colorist\", \"inker\", \"narrator\", \"contributor\", \"publisher\", \"imprint\", \"language\", \"modified\", \"published\", \"sortAs\", \"description\", \"readingProgression\", \"direction\", \"belongsTo\", \"duration\", \"numberOfPages\", \"rights\", \"rendition\", \"source\", \"subject\"];\n\nconst SUBJECT_JSON_PROP = \"subject\";\nconst BELONGS_TO_JSON_PROP = \"belongs_to\";\nconst BELONGSTO_JSON_PROP = \"belongsTo\";\nconst RENDITION_JSON_PROP = \"rendition\";\nconst AUTHOR_JSON_PROP = \"author\";\nconst TRANSLATOR_JSON_PROP = \"translator\";\nconst EDITOR_JSON_PROP = \"editor\";\nconst ARTIST_JSON_PROP = \"artist\";\nconst ILLUSTRATOR_JSON_PROP = \"illustrator\";\nconst LETTERER_JSON_PROP = \"letterer\";\nconst PENCILER_JSON_PROP = \"penciler\";\nconst COLORIST_JSON_PROP = \"colorist\";\nconst INKER_JSON_PROP = \"inker\";\nconst NARRATOR_JSON_PROP = \"narrator\";\nconst CONTRIBUTOR_JSON_PROP = \"contributor\";\nconst PUBLISHER_JSON_PROP = \"publisher\";\nconst IMPRINT_JSON_PROP = \"imprint\";\n\n// tslint:disable-next-line:max-line-length\n// https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json\n@JsonObject()\nexport class Metadata implements IWithAdditionalJSON {\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L11\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/opds-community/drafts/blob/4d82fb9a64f35a174a5f205c23ba623ec010d5ec/schema/feed-metadata.schema.json#L11\n    @JsonProperty(\"@type\")\n    public RDFType!: string;\n\n    // TODO: array? https://github.com/opds-community/drafts/issues/24\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L15\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/opds-community/drafts/blob/4d82fb9a64f35a174a5f205c23ba623ec010d5ec/schema/feed-metadata.schema.json#L15\n    @JsonProperty(\"title\")\n    // @JsonType(String)\n    // not needed because primitive string union with\n    // simple object type (string keys, string values)\n    public Title!: string | IStringMap; // | string[] | IStringMap[]\n\n    // TODO: array? https://github.com/opds-community/drafts/issues/24\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L33\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/opds-community/drafts/blob/4d82fb9a64f35a174a5f205c23ba623ec010d5ec/schema/feed-metadata.schema.json#L22\n    @JsonProperty(\"subtitle\")\n    public SubTitle!: string | IStringMap;\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L7\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/opds-community/drafts/blob/4d82fb9a64f35a174a5f205c23ba623ec010d5ec/schema/feed-metadata.schema.json#L7\n    @JsonProperty(\"identifier\")\n    public Identifier!: string;\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L81\n    @JsonProperty(AUTHOR_JSON_PROP)\n    @JsonElementType(Contributor)\n    @JsonConverter(JsonContributorConverter)\n    public Author!: Contributor[];\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L84\n    @JsonProperty(TRANSLATOR_JSON_PROP)\n    @JsonElementType(Contributor)\n    @JsonConverter(JsonContributorConverter)\n    public Translator!: Contributor[];\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L87\n    @JsonProperty(EDITOR_JSON_PROP)\n    @JsonElementType(Contributor)\n    @JsonConverter(JsonContributorConverter)\n    public Editor!: Contributor[];\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L90\n    @JsonProperty(ARTIST_JSON_PROP)\n    @JsonElementType(Contributor)\n    @JsonConverter(JsonContributorConverter)\n    public Artist!: Contributor[];\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L93\n    @JsonProperty(ILLUSTRATOR_JSON_PROP)\n    @JsonElementType(Contributor)\n    @JsonConverter(JsonContributorConverter)\n    public Illustrator!: Contributor[];\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L96\n    @JsonProperty(LETTERER_JSON_PROP)\n    @JsonElementType(Contributor)\n    @JsonConverter(JsonContributorConverter)\n    public Letterer!: Contributor[];\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L99\n    @JsonProperty(PENCILER_JSON_PROP)\n    @JsonElementType(Contributor)\n    @JsonConverter(JsonContributorConverter)\n    public Penciler!: Contributor[];\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L102\n    @JsonProperty(COLORIST_JSON_PROP)\n    @JsonElementType(Contributor)\n    @JsonConverter(JsonContributorConverter)\n    public Colorist!: Contributor[];\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L105\n    @JsonProperty(INKER_JSON_PROP)\n    @JsonElementType(Contributor)\n    @JsonConverter(JsonContributorConverter)\n    public Inker!: Contributor[];\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L108\n    @JsonProperty(NARRATOR_JSON_PROP)\n    @JsonElementType(Contributor)\n    @JsonConverter(JsonContributorConverter)\n    public Narrator!: Contributor[];\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L111\n    @JsonProperty(CONTRIBUTOR_JSON_PROP)\n    @JsonElementType(Contributor)\n    @JsonConverter(JsonContributorConverter)\n    public Contributor!: Contributor[];\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L114\n    @JsonProperty(PUBLISHER_JSON_PROP)\n    @JsonElementType(Contributor)\n    @JsonConverter(JsonContributorConverter)\n    public Publisher!: Contributor[];\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L117\n    @JsonProperty(IMPRINT_JSON_PROP)\n    @JsonElementType(Contributor)\n    @JsonConverter(JsonContributorConverter)\n    public Imprint!: Contributor[];\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L66\n    @JsonProperty(\"language\")\n    @JsonElementType(String)\n    @JsonConverter(JsonStringConverter)\n    public Language!: string[];\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L51\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/opds-community/drafts/blob/4d82fb9a64f35a174a5f205c23ba623ec010d5ec/schema/feed-metadata.schema.json#L29\n    @JsonProperty(\"modified\")\n    public Modified!: Date;\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L55\n    @JsonProperty(\"published\")\n    public PublicationDate!: Date;\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L78\n    @JsonProperty(\"sortAs\")\n    public SortAs2!: string;\n    @JsonProperty(\"sort_as\")\n    public SortAs1: string | undefined;\n    get SortAs(): string | undefined {\n        return this.SortAs2 ? this.SortAs2 : this.SortAs1;\n    }\n    set SortAs(sortas: string | undefined) {\n        if (sortas) {\n            this.SortAs1 = undefined;\n            this.SortAs2 = sortas;\n        }\n    }\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L129\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/opds-community/drafts/blob/4d82fb9a64f35a174a5f205c23ba623ec010d5ec/schema/feed-metadata.schema.json#L33\n    @JsonProperty(\"description\")\n    public Description!: string;\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L120\n    @JsonProperty(\"readingProgression\")\n    public Direction2!: string;\n    @JsonProperty(\"direction\")\n    public Direction1: string | undefined;\n    get Direction(): string | undefined {\n        return this.Direction2 ? this.Direction2 : this.Direction1;\n    }\n    set Direction(direction: string | undefined) {\n        if (direction) {\n            this.Direction1 = undefined;\n            this.Direction2 = direction;\n        }\n    }\n    // see DirectionEnum\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L140\n    @JsonProperty(BELONGSTO_JSON_PROP)\n    public BelongsTo2!: BelongsTo;\n    @JsonProperty(BELONGS_TO_JSON_PROP)\n    public BelongsTo1: BelongsTo | undefined;\n    get BelongsTo(): BelongsTo | undefined {\n        return this.BelongsTo2 ? this.BelongsTo2 : this.BelongsTo1;\n    }\n    set BelongsTo(belongsto: BelongsTo | undefined) {\n        if (belongsto) {\n            this.BelongsTo1 = undefined;\n            this.BelongsTo2 = belongsto;\n        }\n    }\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L132\n    @JsonProperty(\"duration\")\n    public Duration!: number;\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L136\n    @JsonProperty(\"numberOfPages\")\n    public NumberOfPages!: number;\n\n    // public OtherMetadata: IMeta[];\n\n    // TODO: not in JSON Schema\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/tree/master/schema\n    @JsonProperty(\"media-overlay\")\n    public MediaOverlay!: MediaOverlay;\n\n    // TODO: not in JSON Schema??\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json\n    @JsonProperty(\"rights\")\n    public Rights!: string;\n\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/917c83e798e3eda42b3e9d0dc92f0fef31b16211/schema/extensions/epub/metadata.schema.json#L7\n    @JsonProperty(RENDITION_JSON_PROP)\n    public Rendition!: Properties;\n\n    // TODO: not in JSON Schema?? https://github.com/readium/webpub-manifest/issues/14\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json\n    @JsonProperty(\"source\")\n    public Source!: string;\n\n    // TODO: not in JSON Schema?? https://github.com/readium/webpub-manifest/issues/13\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json\n    @JsonProperty(SUBJECT_JSON_PROP)\n    @JsonConverter(JsonSubjectConverter)\n    @JsonElementType(Subject)\n    public Subject!: Subject[];\n\n    // see parseAdditionalJSON()\n    // e.g. https://libraryregistry.librarysimplified.org/libraries\n    // @JsonProperty(\"updated\")\n    // public Updated!: Date;\n    // @JsonProperty(\"id\")\n    // public Id!: string;\n\n    // TODO: not in JSON Schema??\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json\n    // @JsonProperty(\"epub-type\")\n    // @JsonElementType(String)\n    // public EpubType!: string[];\n\n    // BEGIN IWithAdditionalJSON\n    public AdditionalJSON!: JsonMap;\n    // public get SupportedKeys() {\n    //     return MetadataSupportedKeys;\n    // }\n\n    // public parseAdditionalJSON(json: JsonMap) {\n    //     parseAdditionalJSON(this, json);\n\n    //     if (this.BelongsTo1) {\n    //         this.BelongsTo1.parseAdditionalJSON(json[BELONGS_TO_JSON_PROP] as JsonMap); // belongs_to\n    //     }\n    //     if (this.BelongsTo2) {\n    //         this.BelongsTo2.parseAdditionalJSON(json[BELONGSTO_JSON_PROP] as JsonMap); // belongsTo\n    //     }\n    //     if (this.Rendition) {\n    //         this.Rendition.parseAdditionalJSON(json[RENDITION_JSON_PROP] as JsonMap);\n    //     }\n    //     if (this.Subject) {\n    //         this.Subject.forEach((subject, i) => {\n    //             subject.parseAdditionalJSON((json[SUBJECT_JSON_PROP] as JsonArray)[i] as JsonMap);\n    //         });\n    //     }\n    //     if (this.Author) {\n    //         this.Author.forEach((cont, i) => {\n    //             cont.parseAdditionalJSON((json[AUTHOR_JSON_PROP] as JsonArray)[i] as JsonMap);\n    //         });\n    //     }\n    //     if (this.Translator) {\n    //         this.Translator.forEach((cont, i) => {\n    //             cont.parseAdditionalJSON((json[TRANSLATOR_JSON_PROP] as JsonArray)[i] as JsonMap);\n    //         });\n    //     }\n    //     if (this.Editor) {\n    //         this.Editor.forEach((cont, i) => {\n    //             cont.parseAdditionalJSON((json[EDITOR_JSON_PROP] as JsonArray)[i] as JsonMap);\n    //         });\n    //     }\n    //     if (this.Artist) {\n    //         this.Artist.forEach((cont, i) => {\n    //             cont.parseAdditionalJSON((json[ARTIST_JSON_PROP] as JsonArray)[i] as JsonMap);\n    //         });\n    //     }\n    //     if (this.Illustrator) {\n    //         this.Illustrator.forEach((cont, i) => {\n    //             cont.parseAdditionalJSON((json[ILLUSTRATOR_JSON_PROP] as JsonArray)[i] as JsonMap);\n    //         });\n    //     }\n    //     if (this.Letterer) {\n    //         this.Letterer.forEach((cont, i) => {\n    //             cont.parseAdditionalJSON((json[LETTERER_JSON_PROP] as JsonArray)[i] as JsonMap);\n    //         });\n    //     }\n    //     if (this.Penciler) {\n    //         this.Penciler.forEach((cont, i) => {\n    //             cont.parseAdditionalJSON((json[PENCILER_JSON_PROP] as JsonArray)[i] as JsonMap);\n    //         });\n    //     }\n    //     if (this.Colorist) {\n    //         this.Colorist.forEach((cont, i) => {\n    //             cont.parseAdditionalJSON((json[COLORIST_JSON_PROP] as JsonArray)[i] as JsonMap);\n    //         });\n    //     }\n    //     if (this.Inker) {\n    //         this.Inker.forEach((cont, i) => {\n    //             cont.parseAdditionalJSON((json[INKER_JSON_PROP] as JsonArray)[i] as JsonMap);\n    //         });\n    //     }\n    //     if (this.Narrator) {\n    //         this.Narrator.forEach((cont, i) => {\n    //             cont.parseAdditionalJSON((json[NARRATOR_JSON_PROP] as JsonArray)[i] as JsonMap);\n    //         });\n    //     }\n    //     if (this.Contributor) {\n    //         this.Contributor.forEach((cont, i) => {\n    //             cont.parseAdditionalJSON((json[CONTRIBUTOR_JSON_PROP] as JsonArray)[i] as JsonMap);\n    //         });\n    //     }\n    //     if (this.Publisher) {\n    //         this.Publisher.forEach((cont, i) => {\n    //             cont.parseAdditionalJSON((json[PUBLISHER_JSON_PROP] as JsonArray)[i] as JsonMap);\n    //         });\n    //     }\n    //     if (this.Imprint) {\n    //         this.Imprint.forEach((cont, i) => {\n    //             cont.parseAdditionalJSON((json[IMPRINT_JSON_PROP] as JsonArray)[i] as JsonMap);\n    //         });\n    //     }\n    // }\n    // public generateAdditionalJSON(json: JsonMap) {\n    //     generateAdditionalJSON(this, json);\n\n    //     if (this.Rendition) {\n    //         this.Rendition.generateAdditionalJSON(json[RENDITION_JSON_PROP] as JsonMap);\n    //     }\n    //     if (this.Subject) {\n    //         this.Subject.forEach((subject, i) => {\n    //             subject.generateAdditionalJSON((json[SUBJECT_JSON_PROP] as JsonArray)[i] as JsonMap);\n    //         });\n    //     }\n    //     if (this.Author) {\n    //         this.Author.forEach((cont, i) => {\n    //             cont.generateAdditionalJSON((json[AUTHOR_JSON_PROP] as JsonArray)[i] as JsonMap);\n    //         });\n    //     }\n    //     if (this.Translator) {\n    //         this.Translator.forEach((cont, i) => {\n    //             cont.generateAdditionalJSON((json[TRANSLATOR_JSON_PROP] as JsonArray)[i] as JsonMap);\n    //         });\n    //     }\n    //     if (this.Editor) {\n    //         this.Editor.forEach((cont, i) => {\n    //             cont.generateAdditionalJSON((json[EDITOR_JSON_PROP] as JsonArray)[i] as JsonMap);\n    //         });\n    //     }\n    //     if (this.Artist) {\n    //         this.Artist.forEach((cont, i) => {\n    //             cont.generateAdditionalJSON((json[ARTIST_JSON_PROP] as JsonArray)[i] as JsonMap);\n    //         });\n    //     }\n    //     if (this.Illustrator) {\n    //         this.Illustrator.forEach((cont, i) => {\n    //             cont.generateAdditionalJSON((json[ILLUSTRATOR_JSON_PROP] as JsonArray)[i] as JsonMap);\n    //         });\n    //     }\n    //     if (this.Letterer) {\n    //         this.Letterer.forEach((cont, i) => {\n    //             cont.generateAdditionalJSON((json[LETTERER_JSON_PROP] as JsonArray)[i] as JsonMap);\n    //         });\n    //     }\n    //     if (this.Penciler) {\n    //         this.Penciler.forEach((cont, i) => {\n    //             cont.generateAdditionalJSON((json[PENCILER_JSON_PROP] as JsonArray)[i] as JsonMap);\n    //         });\n    //     }\n    //     if (this.Colorist) {\n    //         this.Colorist.forEach((cont, i) => {\n    //             cont.generateAdditionalJSON((json[COLORIST_JSON_PROP] as JsonArray)[i] as JsonMap);\n    //         });\n    //     }\n    //     if (this.Inker) {\n    //         this.Inker.forEach((cont, i) => {\n    //             cont.generateAdditionalJSON((json[INKER_JSON_PROP] as JsonArray)[i] as JsonMap);\n    //         });\n    //     }\n    //     if (this.Narrator) {\n    //         this.Narrator.forEach((cont, i) => {\n    //             cont.generateAdditionalJSON((json[NARRATOR_JSON_PROP] as JsonArray)[i] as JsonMap);\n    //         });\n    //     }\n    //     if (this.Contributor) {\n    //         this.Contributor.forEach((cont, i) => {\n    //             cont.generateAdditionalJSON((json[CONTRIBUTOR_JSON_PROP] as JsonArray)[i] as JsonMap);\n    //         });\n    //     }\n    //     if (this.Publisher) {\n    //         this.Publisher.forEach((cont, i) => {\n    //             cont.generateAdditionalJSON((json[PUBLISHER_JSON_PROP] as JsonArray)[i] as JsonMap);\n    //         });\n    //     }\n    //     if (this.Imprint) {\n    //         this.Imprint.forEach((cont, i) => {\n    //             cont.generateAdditionalJSON((json[IMPRINT_JSON_PROP] as JsonArray)[i] as JsonMap);\n    //         });\n    //     }\n    // }\n    // END IWithAdditionalJSON\n\n    @OnDeserialized()\n    // tslint:disable-next-line:no-unused-variable\n    // @ts-ignore: TS6133 (is declared but its value is never read.)\n    protected _OnDeserialized() {\n        // tslint:disable-next-line:max-line-length\n        // https://github.com/readium/webpub-manifest/blob/0976680e25852b8a4c4802a052ba750ab3e89284/schema/metadata.schema.json#L153\n        // tslint:disable-next-line:max-line-length\n        // https://github.com/opds-community/drafts/blob/4d82fb9a64f35a174a5f205c23ba623ec010d5ec/schema/feed-metadata.schema.json#L50\n        if (!this.Title) {\n            console.log(\"Metadata.Title is not set!\");\n        }\n        // if (!this.Identifier) {\n        //     console.log(\"Metadata.Identifier is not set!\");\n        // }\n    }\n}\n"]}