{"version":3,"file":"zipHasEntry.js","sourceRoot":"","sources":["../../../../src/_utils/zipHasEntry.ts"],"names":[],"mappings":";;AASO,KAAK,UAAU,WAAW,CAAC,GAAS,EAAE,OAAe,EAAE,YAAgC;IAC1F,IAAI,GAAG,GAAG,GAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IAChC,IAAK,GAAW,CAAC,aAAa,EAAE;QAC5B,IAAI;YACA,GAAG,GAAG,MAAO,GAAW,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;SACnD;QAAC,OAAO,GAAG,EAAE;YACV,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SACpB;KACJ;IACD,IAAI,CAAC,GAAG,IAAI,YAAY,IAAI,YAAY,KAAK,OAAO,EAAE;QAClD,OAAO,CAAC,GAAG,CAAC,gBAAgB,OAAO,OAAO,YAAY,EAAE,CAAC,CAAC;QAC1D,GAAG,GAAG,GAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QAC5B,IAAK,GAAW,CAAC,aAAa,EAAE;YAC5B,IAAI;gBACA,GAAG,GAAG,MAAO,GAAW,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;aACnD;YAAC,OAAO,GAAG,EAAE;gBACV,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;aACpB;SACJ;KACJ;IACD,OAAO,GAAG,CAAC;AACf,CAAC;AArBD,kCAqBC","sourcesContent":["// ==LICENSE-BEGIN==\n// Copyright 2017 European Digital Reading Lab. All rights reserved.\n// Licensed to the Readium Foundation under one or more contributor license agreements.\n// Use of this source code is governed by a BSD-style license\n// that can be found in the LICENSE file exposed on Github (readium) in the project repository.\n// ==LICENSE-END==\n\nimport { IZip } from \"@r2-utils-js/_utils/zip/zip\";\n\nexport async function zipHasEntry(zip: IZip, zipPath: string, zipPathOther: string | undefined): Promise<boolean> {\n    let has = zip.hasEntry(zipPath);\n    if ((zip as any).hasEntryAsync) { // hacky!!! (HTTP fetch)\n        try {\n            has = await (zip as any).hasEntryAsync(zipPath);\n        } catch (err) {\n            console.log(err);\n        }\n    }\n    if (!has && zipPathOther && zipPathOther !== zipPath) {\n        console.log(`zipHasEntry: ${zipPath} => ${zipPathOther}`);\n        has = zip.hasEntry(zipPath);\n        if ((zip as any).hasEntryAsync) { // hacky!!! (HTTP fetch)\n            try {\n                has = await (zip as any).hasEntryAsync(zipPath);\n            } catch (err) {\n                console.log(err);\n            }\n        }\n    }\n    return has;\n}\n"]}