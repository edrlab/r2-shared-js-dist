{"version":3,"file":"zipHasEntry.js","sourceRoot":"","sources":["../../../../src/_utils/zipHasEntry.ts"],"names":[],"mappings":";;;;AAOA,gCAAgC;AAIhC,MAAM,KAAK,GAAG,MAAM,CAAC,6BAA6B,CAAC,CAAC;AAEpD,SAAsB,WAAW,CAAC,GAAS,EAAE,OAAe,EAAE,YAAgC;;QAC1F,IAAI,GAAG,GAAG,GAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QAChC,IAAK,GAAW,CAAC,aAAa,EAAE;YAC5B,IAAI;gBACA,GAAG,GAAG,MAAO,GAAW,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;aACnD;YAAC,OAAO,GAAG,EAAE;gBACV,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;aACpB;SACJ;QACD,IAAI,CAAC,GAAG,IAAI,YAAY,IAAI,YAAY,KAAK,OAAO,EAAE;YAClD,KAAK,CAAC,gBAAgB,OAAO,OAAO,YAAY,EAAE,CAAC,CAAC;YAEpD,GAAG,GAAG,GAAG,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;YACjC,IAAK,GAAW,CAAC,aAAa,EAAE;gBAC5B,IAAI;oBACA,GAAG,GAAG,MAAO,GAAW,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;iBACxD;gBAAC,OAAO,GAAG,EAAE;oBACV,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;iBACpB;aACJ;SACJ;QACD,OAAO,GAAG,CAAC;IACf,CAAC;CAAA;AAtBD,kCAsBC","sourcesContent":["// ==LICENSE-BEGIN==\n// Copyright 2017 European Digital Reading Lab. All rights reserved.\n// Licensed to the Readium Foundation under one or more contributor license agreements.\n// Use of this source code is governed by a BSD-style license\n// that can be found in the LICENSE file exposed on Github (readium) in the project repository.\n// ==LICENSE-END==\n\nimport * as debug_ from \"debug\";\n\nimport { IZip } from \"@r2-utils-js/_utils/zip/zip\";\n\nconst debug = debug_(\"r2:shared#utils/zipHasEntry\");\n\nexport async function zipHasEntry(zip: IZip, zipPath: string, zipPathOther: string | undefined): Promise<boolean> {\n    let has = zip.hasEntry(zipPath);\n    if ((zip as any).hasEntryAsync) { // hacky!!! (HTTP fetch)\n        try {\n            has = await (zip as any).hasEntryAsync(zipPath);\n        } catch (err) {\n            console.log(err);\n        }\n    }\n    if (!has && zipPathOther && zipPathOther !== zipPath) {\n        debug(`zipHasEntry: ${zipPath} => ${zipPathOther}`);\n\n        has = zip.hasEntry(zipPathOther);\n        if ((zip as any).hasEntryAsync) { // hacky!!! (HTTP fetch)\n            try {\n                has = await (zip as any).hasEntryAsync(zipPathOther);\n            } catch (err) {\n                console.log(err);\n            }\n        }\n    }\n    return has;\n}\n"]}